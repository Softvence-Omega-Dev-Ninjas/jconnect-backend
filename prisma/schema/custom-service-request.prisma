enum CustomServiceStatus {
    PENDING
    QUOTED
    ACCEPTED
    REJECTED
    COMPLETED
}

model CustomServiceRequest {
    id String @id @default(cuid())

    // Buyer relation
    buyerId String
    buyer   User   @relation(name: "BuyerCustomRequests", fields: [buyerId], references: [id])

    // Target creator relation
    targetCreatorId String?
    targetCreator   User?   @relation(name: "TargetedCustomRequests", fields: [targetCreatorId], references: [id])

    serviceName           String
    description           String
    budgetRangeMin        Float?
    budgetRangeMax        Float?
    preferredDeliveryDate DateTime?
    uploadedFileUrl       String?
    status                CustomServiceStatus @default(PENDING)
    creatorQuotePrice     Float?
    creatorQuoteExpires   DateTime?

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    @@index([buyerId])
    @@index([targetCreatorId])
}